!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.simple2canvas=e():t.simple2canvas=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(t,e){}var e=t.prototype;return e.rect=function(){},e.image=function(){},e.text=function(){},e.wrapText=function(){},t}();var o={html:function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var o=document.createElement("canvas");return o.width=e,o.height=n,r.canvas=o,r.ctx=o.getContext("2d"),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.rect=function(t){var e=t.top,n=t.left,r=t.width,o=t.height,i=t.fill,f=t.round,u=this.ctx;return u.save(),u.fillStyle=i,f?(r<2*f&&(f=r/2),o<2*f&&(f=o/2),u.beginPath(),u.moveTo(n+f,e),u.arcTo(n+r,e,n+r,e+o,f),u.arcTo(n+r,e+o,n,e+o,f),u.arcTo(n,e+o,n,e,f),u.arcTo(n,e,n+r,e,f),u.closePath(),u.fill()):u.fillRect(n,e,r,o),u.restore(),Promise.resolve(this)},o.image=function(t){var e=t.url,n=t.top,r=t.left,o=t.width,i=t.height,f=this.ctx;return new Promise((function(t,u){f.save();var c=document.createElement("img");c.crossOrigin="*",c.onload=function(){f.drawImage(c,r,n,o,i),c.parentNode.removeChild(c),t()},c.onerror=u,c.src=e,document.body.appendChild(c)}))},o.text=function(t){var e=t.text,n=t.top,r=t.left,o=t.fontSize,i=t.lineHeight,f=t.color,u=t.textAlign,c=t.fontWeight,l=this.ctx;return l.save(),l.font=[c,o?o+"px":"","Arial"].filter((function(t){return t})).join(" "),l.fillStyle=f,l.textAlign=u||"left",n=n+i-Math.max((i-o)/2,0),l.fillText(e,r,n),l.restore(),Promise.resolve(this)},o.wrapText=function(t){var e=this,n=t.text,r=t.top,o=t.left,i=t.fontSize,f=t.lineHeight,u=t.color,c=t.width,l=t.height,a=t.textAlign,p=t.fontWeight,s=this.ctx;s.save();for(var d=n.split(""),h="",v=[],m=0;m<d.length;m++){var y=h+d[m];s.measureText(y).width>c&&m>0?(v.push({line:h,top:r,left:o}),h=d[m],r+=f):h=y}return v.push({line:h,top:r,left:o}),v.forEach((function(t,n){var r=t.line,o=t.top,s=t.left;l&&(n+1)*f>l||e.text({text:r,top:o,left:s,fontSize:i,lineHeight:f,color:u,width:c,textAlign:a,fontWeight:p})})),s.restore(),v},r}(r)};function i(t){var e=t.width,n=t.height,r=(t.rate,t.render),i=void 0===r?"html":r,f=t.elements;return i=new("function"==typeof i?i:o[i]||o.html)(e,n),(f=f.filter((function(t){var e=t.type;return"function"==typeof e||"function"==typeof i[e]}))).reduce((function(t,e){return t.then((function(){return"function"==typeof e.type?e.type.call(i,e):i[e.type](e)}))}),Promise.resolve()).then((function(){return i.canvas}))}i.Render=r,i.Renders=o;e.default=i}]).default}));